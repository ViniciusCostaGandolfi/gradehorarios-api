spring.application.name=GradeHorarios
server.port=${PORT:8080}
spring.config.import=optional:file:.env[.properties]
spring.profiles.active=@activatedProperties@

# Uploads
spring.servlet.multipart.max-file-size=10MB
spring.servlet.multipart.max-request-size=10MB

# Datasource
spring.datasource.driver-class-name=org.postgresql.Driver
spring.datasource.url=${DB_URL}
spring.datasource.username=${DB_USER}
spring.datasource.password=${DB_PASSWORD}

# JPA / Hibernate Geral
spring.jpa.properties.hibernate.jdbc.time_zone=UTC
spring.jpa.open-in-view=false


# Flyway (Padrão ligado)
spring.flyway.enabled=true
spring.flyway.baseline-on-migrate=true
spring.flyway.locations=classpath:db/migration

# Configurações de Serviços Externos (RabbitMQ, S3, Mail)
# Mantém as variáveis de ambiente pois elas mudam por ambiente na infra
spring.storage.s3.endpoint=${S3_ENDPOINT}
spring.storage.s3.access-key=${S3_ACCESS_KEY}
spring.storage.s3.secret-key=${S3_SECRET_KEY}
spring.storage.s3.bucket-name=${S3_BUCKET_NAME}
spring.storage.s3.region=${S3_REGION:us-east-1}

spring.mail.host=${EMAIL_SERVER}
spring.mail.port=${EMAIL_PORT}
spring.mail.username=${EMAIL_USERNAME}
spring.mail.password=${EMAIL_PASSWORD}
spring.mail.protocol=smtp
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true
spring.mail.properties.mail.smtp.starttls.required=true

spring.rabbitmq.port=${RABBITMQ_PORT:5673}
spring.rabbitmq.username=${MQ_USER:guest}
spring.rabbitmq.password=${MQ_PASSWORD:guest}

# Thymeleaf (Padrão)
spring.thymeleaf.prefix=classpath:/templates/
spring.thymeleaf.mode=HTML
spring.thymeleaf.encoding=UTF-8

# Segurança
api.security.allowed.origin=${ALLOWED_ORIGIN}
api.security.token.secret=${JWT_SECRET}

# Variáveis customizadas
ms-solver.url=${MS_SOLVER_URL}
frontend-url=${FRONTEND_URL}



# logging.level.org.springdoc=DEBUG
# logging.level.org.flywaydb=DEBUG
# logging.level.org.springframework.security=DEBUG
# logging.level.org.springframework.web=DEBUG
# logging.level.org.hibernate.orm.jdbc.bind=TRACE
# logging.level.org.hibernate.SQL=DEBUG
# logging.level.org.hibernate.engine.internal.TwoPhaseLoad=TRACE
# logging.level.org.hibernate.loader=TRACE
