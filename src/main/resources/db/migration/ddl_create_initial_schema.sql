create table addresses (id integer generated by default as identity, latitude numeric(9,6), longitude numeric(9,6), city varchar(255), complement varchar(255), country varchar(255), formatted_address varchar(255), neighborhood varchar(255), postal_code varchar(255), state varchar(255), street_name varchar(255), street_number varchar(255), primary key (id));
create table classroom (college_id integer, id integer generated by default as identity, name varchar(255), primary key (id));
create table classroom_daily_schedules (classroom_id integer, friday_classes integer, id integer generated by default as identity, monday_classes integer, saturday_classes integer, sunday_classes integer, thursday_classes integer, tuesday_classes integer, wednesday_classes integer, primary key (id));
create table colleges (code integer, id integer generated by default as identity, user_id integer, name varchar(255), primary key (id));
create table disciplines (college_id integer, id integer generated by default as identity, code varchar(255), name varchar(255), primary key (id));
create table solutions (college_id integer not null, id integer generated by default as identity, time_to_solve numeric(21,0), created_at timestamp(6) with time zone, status varchar(255) check (status in ('SOLVED','OPTIMAL','FEASIBLE','INFEASIBLE')), input jsonb, output jsonb, primary key (id));
create table state_registrations (address_id integer unique, code integer, id integer generated by default as identity, dependency_administration varchar(255) check (dependency_administration in ('FEDERAL','STATE','MUNICIPAL','PRIVATE')), email varchar(255), localization varchar(255) check (localization in ('RURAL','URBAN','UNKNOWN')), name varchar(255), phone varchar(255), primary key (id));
create table teacher_availabilities (id integer generated by default as identity, teacher_id integer, friday varchar(255) check (friday in ('IRRELEVANT','PREFERABLE','UNPREFERABLE')), monday varchar(255) check (monday in ('IRRELEVANT','PREFERABLE','UNPREFERABLE')), saturday varchar(255) check (saturday in ('IRRELEVANT','PREFERABLE','UNPREFERABLE')), sunday varchar(255) check (sunday in ('IRRELEVANT','PREFERABLE','UNPREFERABLE')), thursday varchar(255) check (thursday in ('IRRELEVANT','PREFERABLE','UNPREFERABLE')), tuesday varchar(255) check (tuesday in ('IRRELEVANT','PREFERABLE','UNPREFERABLE')), wednesday varchar(255) check (wednesday in ('IRRELEVANT','PREFERABLE','UNPREFERABLE')), primary key (id));
create table teacher_disciplines (classroom_id integer, discipline_id integer, id integer generated by default as identity, teacher_id integer, total_classes integer, primary key (id));
create table teachers (college_id integer, id integer generated by default as identity, name varchar(255), prefer_double_class varchar(255) check (prefer_double_class in ('IRRELEVANT','PREFERABLE','UNPREFERABLE')), prefer_first_class varchar(255) check (prefer_first_class in ('IRRELEVANT','PREFERABLE','UNPREFERABLE')), prefer_last_class varchar(255) check (prefer_last_class in ('IRRELEVANT','PREFERABLE','UNPREFERABLE')), primary key (id));
create table users (id integer generated by default as identity, email varchar(255), name varchar(255), password varchar(255), phone varchar(255), primary key (id));
alter table if exists classroom add constraint FKoe8s7ggafwogg2lk54oqi4vd5 foreign key (college_id) references colleges;
alter table if exists classroom_daily_schedules add constraint FKpyjea9cgxuha5mu1m2nf8sev6 foreign key (classroom_id) references classroom;
alter table if exists colleges add constraint FK4rkdi8nlnwjqs38hsbb44ss0o foreign key (user_id) references users;
alter table if exists disciplines add constraint FKby66oy9dxe4cegotj7yhsluk9 foreign key (college_id) references colleges;
alter table if exists solutions add constraint FKddvmxoh2w541e6ih3kmjd8spq foreign key (college_id) references colleges;
alter table if exists state_registrations add constraint FK6m9atgcgq7odvls9hfokj462i foreign key (address_id) references addresses;
alter table if exists teacher_availabilities add constraint FKfnfhxrcukt6estvsb5mi0lchw foreign key (teacher_id) references teachers;
alter table if exists teacher_disciplines add constraint FKdtn5amsc6fe3fxgh11y1ive2h foreign key (classroom_id) references classroom;
alter table if exists teacher_disciplines add constraint FK6i0loq1fkbsqr0oidja4qcai5 foreign key (discipline_id) references disciplines;
alter table if exists teacher_disciplines add constraint FK77aadlnp260wqf4cq5uww9if1 foreign key (teacher_id) references teachers;
alter table if exists teachers add constraint FKn3rlhj1ayn4a7qu6sc1mdxyh3 foreign key (college_id) references colleges;
create table addresses (id integer generated by default as identity, latitude numeric(9,6), longitude numeric(9,6), city varchar(255), complement varchar(255), country varchar(255), formatted_address varchar(255), neighborhood varchar(255), postal_code varchar(255), state varchar(255), street_name varchar(255), street_number varchar(255), primary key (id));
create table classroom (college_id integer, id integer generated by default as identity, name varchar(255), primary key (id));
create table classroom_daily_schedules (classroom_id integer, friday_classes integer, id integer generated by default as identity, monday_classes integer, saturday_classes integer, sunday_classes integer, thursday_classes integer, tuesday_classes integer, wednesday_classes integer, primary key (id));
create table colleges (code integer, id integer generated by default as identity, user_id integer, name varchar(255), primary key (id));
create table disciplines (college_id integer, id integer generated by default as identity, code varchar(255), name varchar(255), primary key (id));
create table solutions (college_id integer not null, id integer generated by default as identity, time_to_solve numeric(21,0), created_at timestamp(6) with time zone, status varchar(255) check (status in ('SOLVED','OPTIMAL','FEASIBLE','INFEASIBLE')), input jsonb, output jsonb, primary key (id));
create table state_registrations (address_id integer unique, code integer, id integer generated by default as identity, dependency_administration varchar(255) check (dependency_administration in ('FEDERAL','STATE','MUNICIPAL','PRIVATE')), email varchar(255), localization varchar(255) check (localization in ('RURAL','URBAN','UNKNOWN')), name varchar(255), phone varchar(255), primary key (id));
create table teacher_availabilities (id integer generated by default as identity, teacher_id integer, friday varchar(255) check (friday in ('IRRELEVANT','PREFERABLE','UNPREFERABLE')), monday varchar(255) check (monday in ('IRRELEVANT','PREFERABLE','UNPREFERABLE')), saturday varchar(255) check (saturday in ('IRRELEVANT','PREFERABLE','UNPREFERABLE')), sunday varchar(255) check (sunday in ('IRRELEVANT','PREFERABLE','UNPREFERABLE')), thursday varchar(255) check (thursday in ('IRRELEVANT','PREFERABLE','UNPREFERABLE')), tuesday varchar(255) check (tuesday in ('IRRELEVANT','PREFERABLE','UNPREFERABLE')), wednesday varchar(255) check (wednesday in ('IRRELEVANT','PREFERABLE','UNPREFERABLE')), primary key (id));
create table teacher_disciplines (classroom_id integer, discipline_id integer, id integer generated by default as identity, teacher_id integer, total_classes integer, primary key (id));
create table teachers (college_id integer, id integer generated by default as identity, name varchar(255), prefer_double_class varchar(255) check (prefer_double_class in ('IRRELEVANT','PREFERABLE','UNPREFERABLE')), prefer_first_class varchar(255) check (prefer_first_class in ('IRRELEVANT','PREFERABLE','UNPREFERABLE')), prefer_last_class varchar(255) check (prefer_last_class in ('IRRELEVANT','PREFERABLE','UNPREFERABLE')), primary key (id));
create table users (id integer generated by default as identity, email varchar(255), name varchar(255), password varchar(255), phone varchar(255), primary key (id));
alter table if exists classroom add constraint FKoe8s7ggafwogg2lk54oqi4vd5 foreign key (college_id) references colleges;
alter table if exists classroom_daily_schedules add constraint FKpyjea9cgxuha5mu1m2nf8sev6 foreign key (classroom_id) references classroom;
alter table if exists colleges add constraint FK4rkdi8nlnwjqs38hsbb44ss0o foreign key (user_id) references users;
alter table if exists disciplines add constraint FKby66oy9dxe4cegotj7yhsluk9 foreign key (college_id) references colleges;
alter table if exists solutions add constraint FKddvmxoh2w541e6ih3kmjd8spq foreign key (college_id) references colleges;
alter table if exists state_registrations add constraint FK6m9atgcgq7odvls9hfokj462i foreign key (address_id) references addresses;
alter table if exists teacher_availabilities add constraint FKfnfhxrcukt6estvsb5mi0lchw foreign key (teacher_id) references teachers;
alter table if exists teacher_disciplines add constraint FKdtn5amsc6fe3fxgh11y1ive2h foreign key (classroom_id) references classroom;
alter table if exists teacher_disciplines add constraint FK6i0loq1fkbsqr0oidja4qcai5 foreign key (discipline_id) references disciplines;
alter table if exists teacher_disciplines add constraint FK77aadlnp260wqf4cq5uww9if1 foreign key (teacher_id) references teachers;
alter table if exists teachers add constraint FKn3rlhj1ayn4a7qu6sc1mdxyh3 foreign key (college_id) references colleges;
create table teachers_disciplines_classrooms (id integer generated by default as identity, total_classes integer, classroom_id integer, discipline_id integer, teacher_id integer, primary key (id));
alter table if exists teachers_disciplines_classrooms add constraint FKgppwn422jagtxajijgluuny7l foreign key (classroom_id) references classroom;
alter table if exists teachers_disciplines_classrooms add constraint FK83s5w0v39tue8ah6rxt9aoa6r foreign key (discipline_id) references disciplines;
alter table if exists teachers_disciplines_classrooms add constraint FKie22b2l18nvd8r71lkqgaqc3n foreign key (teacher_id) references teachers;
create table teachers_disciplines_classrooms (id integer generated by default as identity, total_classes integer, classroom_id integer, discipline_id integer, teacher_id integer, primary key (id));
alter table if exists teachers_disciplines_classrooms add constraint FKgppwn422jagtxajijgluuny7l foreign key (classroom_id) references classroom;
alter table if exists teachers_disciplines_classrooms add constraint FK83s5w0v39tue8ah6rxt9aoa6r foreign key (discipline_id) references disciplines;
alter table if exists teachers_disciplines_classrooms add constraint FKie22b2l18nvd8r71lkqgaqc3n foreign key (teacher_id) references teachers;
